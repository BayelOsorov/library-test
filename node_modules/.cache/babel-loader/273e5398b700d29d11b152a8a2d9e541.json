{"ast":null,"code":"import * as types from \"./actionsType\";\nimport CartData from \"../data\";\nconst initialState = {\n  users: [],\n  user: {},\n  loading: true,\n  totalAmount: 0,\n  totalCount: 0,\n  cart: CartData\n};\n\nconst usersReducers = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case types.GET_USERS:\n      return { ...state,\n        users: action.payload,\n        loading: false\n      };\n\n    case types.DELETE_USER:\n    case types.ADD_USER:\n    case types.UPDATE_USER:\n      return { ...state,\n        loading: false\n      };\n\n    case types.GET_SINGLE_USER:\n      return { ...state,\n        user: action.payload,\n        loading: false\n      };\n    //\n\n    case types.DISPLAY_ITEMS:\n      return { ...state,\n        cart: action.payload\n      };\n\n    case types.GET_TOTALS:\n      let {\n        totalAmount,\n        totalCount\n      } = state.cart.reduce((cartTotal, cartItem) => {\n        const {\n          price,\n          amount\n        } = cartItem;\n        const itemTotal = price * amount;\n        cartTotal.totalAmount += itemTotal;\n        cartTotal.totalCount += amount;\n        return cartTotal;\n      }, {\n        totalAmount: 0,\n        totalCount: 0\n      });\n      totalAmount = parseFloat(totalAmount.toFixed(2));\n      return { ...state,\n        totalAmount,\n        totalCount\n      };\n\n    case types.INCREASE:\n      let tempCartInc = state.cart.map(cartItem => {\n        if (cartItem.id === action.payload) {\n          return { ...cartItem,\n            amount: cartItem.amount + 1\n          };\n        }\n\n        return cartItem;\n      });\n      return { ...state,\n        cart: tempCartInc\n      };\n\n    case types.DECREASE:\n      let tempCartDec = state.cart.map(cartItem => {\n        if (cartItem.id === action.payload) {\n          return { ...cartItem,\n            amount: cartItem.amount - 1\n          };\n        }\n\n        return cartItem;\n      }).filter(cartItem => cartItem.amount !== 0);\n      return { ...state,\n        cart: tempCartDec\n      };\n\n    case types.REMOVE:\n      return { ...state,\n        cart: state.cart.filter(cartItem => cartItem.id !== action.payload)\n      };\n\n    case types.CLEAR_ITEMS:\n      return { ...state,\n        cart: []\n      };\n    //\n    //\n\n    default:\n      return state;\n  }\n};\n\nexport default usersReducers;","map":{"version":3,"names":["types","CartData","initialState","users","user","loading","totalAmount","totalCount","cart","usersReducers","state","action","type","GET_USERS","payload","DELETE_USER","ADD_USER","UPDATE_USER","GET_SINGLE_USER","DISPLAY_ITEMS","GET_TOTALS","reduce","cartTotal","cartItem","price","amount","itemTotal","parseFloat","toFixed","INCREASE","tempCartInc","map","id","DECREASE","tempCartDec","filter","REMOVE","CLEAR_ITEMS"],"sources":["/home/nurlan/Desktop/crud-redux-library/src/redux/reducer.js"],"sourcesContent":["import * as types from \"./actionsType\";\nimport CartData from \"../data\";\n\nconst initialState = {\n  users: [],\n  user: {},\n  loading: true,\n  totalAmount: 0,\n  totalCount: 0,\n  cart: CartData,\n};\n\nconst usersReducers = (state = initialState, action) => {\n  switch (action.type) {\n    case types.GET_USERS:\n      return { ...state, users: action.payload, loading: false };\n    case types.DELETE_USER:\n    case types.ADD_USER:\n    case types.UPDATE_USER:\n      return {\n        ...state,\n        loading: false,\n      };\n    case types.GET_SINGLE_USER:\n      return { ...state, user: action.payload, loading: false };\n\n    //\n    case types.DISPLAY_ITEMS:\n      return {\n        ...state,\n        cart: action.payload,\n      };\n    case types.GET_TOTALS:\n      let { totalAmount, totalCount } = state.cart.reduce(\n        (cartTotal, cartItem) => {\n          const { price, amount } = cartItem;\n          const itemTotal = price * amount;\n\n          cartTotal.totalAmount += itemTotal;\n          cartTotal.totalCount += amount;\n          return cartTotal;\n        },\n        {\n          totalAmount: 0,\n          totalCount: 0,\n        }\n      );\n      totalAmount = parseFloat(totalAmount.toFixed(2));\n\n      return { ...state, totalAmount, totalCount };\n    case types.INCREASE:\n      let tempCartInc = state.cart.map((cartItem) => {\n        if (cartItem.id === action.payload) {\n          return { ...cartItem, amount: cartItem.amount + 1 };\n        }\n        return cartItem;\n      });\n      return { ...state, cart: tempCartInc };\n    case types.DECREASE:\n      let tempCartDec = state.cart\n        .map((cartItem) => {\n          if (cartItem.id === action.payload) {\n            return { ...cartItem, amount: cartItem.amount - 1 };\n          }\n          return cartItem;\n        })\n        .filter((cartItem) => cartItem.amount !== 0);\n      return { ...state, cart: tempCartDec };\n    case types.REMOVE:\n      return {\n        ...state,\n        cart: state.cart.filter((cartItem) => cartItem.id !== action.payload),\n      };\n    case types.CLEAR_ITEMS:\n      return {\n        ...state,\n        cart: [],\n      };\n    //\n    //\n    default:\n      return state;\n  }\n};\n\nexport default usersReducers;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}